{"version":3,"sources":["webpack:///./src/views/setting/index.vue?6b23","webpack:///./src/views/setting/index.vue?9188","webpack:///src/views/setting/index.vue","webpack:///./src/views/setting/index.vue?0ea1","webpack:///./src/views/setting/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_169c5242_scoped_scoped_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","settingvue_type_script_lang_js_","middleware","asyncData","_asyncData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_ref","app","error","para","data","arr","wrap","_context","prev","next","name","page","count","startTime","endTime","$axios","$post","concat","api","promotion","activity_config_list","sent","code","result","map","x","imageUrl","newImageUrl","abrupt","res","message","t0","stop","_x","apply","arguments","computed","headers","$store","state","token","Authorization","authUser","JSON","parse","searchname","pagenum","pagesize","planTitle","op","uploadUrl","server","filePath","file","pickerOptions2","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","end","start","setTime","$emit","dataValue","outerVisible","planForm","activityid","fileOnlineUrl","stype","fileList","loadingAvatarUpload","methods","handleRemove","console","log","handlePreview","beforeRemove","$confirm","handleFileSuccess","self","slice","url","$message","err","beforeFileUpload","isImage","type","indexOf","isLt800KB","size","addSetting","updateSetting","row","activityId","_fileList","sureAddSetting","_sureAddSetting","_callee2","_context2","warning","activity_config_add","success","getList","spread","window","open","planid","retain","_getList","_callee3","_context3","createTime","$com","handleCurrentChange","val","handleSelect","item","handleSelectByTime","beforeMount","_this","mounted","views_settingvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"wIAAmdA,EAAA,4CCAnd,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,SAAmBN,EAAAO,GAAA,mBACjIC,uCCqFAC,GACAC,WAAA,OACAC,UAFA,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,mBAAAS,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEAR,EAFAD,EAEAC,IAAAC,EAFAF,EAEAE,MAFAK,EAAAC,KAAA,EAIAL,GACAO,KAAA,GACAC,KAAA,EACAC,MAAA,GACAC,UAAA,KACAC,QAAA,MATAP,EAAAE,KAAA,EAWAR,EAAAc,OAAAC,MAAA,GAAAC,OACAC,IAAAC,UAAAC,sBACAjB,GAbA,UAWAC,EAXAG,EAAAc,KAeA,IAAAjB,EAAAkB,KAfA,CAAAf,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAgBAL,EAAAmB,OAAAnB,KAAAoB,IAAA,SAAAC,GAOA,OALAA,EAAAC,SAGAD,EAAAE,YAAAF,EAAAC,SAFAD,EAAAE,YAAA,IAIAF,IAvBA,cAgBApB,EAhBAE,EAAAc,KAAAd,EAAAqB,OAAA,UA0BAC,KACAzB,KAAAC,EACAO,MAAAR,EAAAmB,OAAAX,SA5BA,QAgCAV,GACA4B,QAAA,QAAAb,OAAAb,EAAAkB,KAAA,MAAAL,OAAAb,EAAAmB,UAjCA,QAAAhB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAwB,GAAAxB,EAAA,YAqCAL,GACA4B,QAAA,GAAAb,OAAAV,EAAAwB,MAtCA,yBAAAxB,EAAAyB,SAAAjC,EAAAhB,OAAA,2BAAAkD,GAAA,OAAAvC,EAAAwC,MAAAnD,KAAAoD,YAAA,GA0CAC,UACAC,QADA,WAGA,QAAAtD,KAAAuD,OAAAC,MAAAC,QAEAC,cAAA,iBAAAxB,OAAAlC,KAAAuD,OAAAC,MAAAC,SAMAE,SAXA,WAYA,QAAA3D,KAAAuD,OAAAC,MAAAG,UACAC,KAAAC,MAAA7D,KAAAuD,OAAAC,MAAAG,YAIAtC,KA3DA,WA4DA,OACAyB,KACAzB,QACAQ,MAAA,IAEAiC,WAAA,GAEAC,QAAA,EACAC,SAAA,GACAC,UAAA,SACAC,GAAA,GAEAC,UAAA,GAAAjC,OAAAkC,OAAAC,UAAAnC,OAAAkC,OAAAE,MAEAC,gBACAC,aADA,SACAC,GACA,OAAAA,EAAAC,UAAAC,KAAAC,OAEAC,YAEAC,KAAA,OACAC,QAFA,SAEAC,GACA,IAAAC,EAAA,IAAAN,KACAO,EAAA,IAAAP,KACAO,EAAAC,QAAAD,EAAAR,UAAA,QACAM,EAAAI,MAAA,QAAAF,EAAAD,OAIAH,KAAA,QACAC,QAFA,SAEAC,GACA,IAAAC,EAAA,IAAAN,KACAO,EAAA,IAAAP,KACAO,EAAAC,QAAAD,EAAAR,UAAA,QACAM,EAAAI,MAAA,QAAAF,EAAAD,OAIAH,KAAA,QACAC,QAFA,SAEAC,GACA,IAAAC,EAAA,IAAAN,KACAO,EAAA,IAAAP,KACAO,EAAAC,QAAAD,EAAAR,UAAA,QACAM,EAAAI,MAAA,QAAAF,EAAAD,QAMAI,UAAA,GACAC,cAAA,EACAC,UACAC,WAAA,GACAC,cAAA,IAGAC,MAAA,GACAC,YACAC,qBAAA,IAGAC,SACAC,aADA,SACAxB,EAAAqB,GACAI,QAAAC,IAAA1B,EAAAqB,IAEAM,cAJA,SAIA3B,GACAyB,QAAAC,IAAA1B,IAEA4B,aAPA,SAOA5B,EAAAqB,GACA,OAAA3F,KAAAmG,SAAA,QAAAjE,OAAAoC,EAAA3C,KAAA,OAGAyE,kBAXA,SAWAtD,EAAAwB,EAAAqB,GACA,IAAAU,EAAArG,KACA,IACA,IAAA8C,EAAAP,MACA8D,EAAAV,WAAAW,OAAA,GACAD,EAAAd,SAAAE,cAAA,GAAAvD,OAAAkC,OAAAC,UAAAnC,OAAAY,EAAAN,OAAA+D,MAEAF,EAAAG,SAAArF,MAAA2B,EAAAN,QAEA,MAAAiE,GACAJ,EAAAG,SAAArF,MAAAsF,KAGAC,iBAxBA,SAwBApC,GACA,IAAA+B,EAAArG,KACA2G,EAAArC,EAAAsC,KAAAC,QAAA,YACAC,EAAAxC,EAAAyC,KAAA,aASA,OARAJ,IACAN,EAAAG,SAAArF,MAAA,oBACAkF,EAAAT,qBAAA,GAEAkB,IACAT,EAAAT,qBAAA,EACAS,EAAAG,SAAArF,MAAA,sBAEAwF,GAAAG,GAGAE,WAvCA,WAwCA,IAAAX,EAAArG,KACAqG,EAAAf,cAAA,EACAe,EAAApC,UAAA,OACAoC,EAAAd,UACAC,WAAA,GACAC,cAAA,KAGAwB,cAhDA,SAgDAC,GACA,IAAAb,EAAArG,KAOA,GANAqG,EAAAf,cAAA,EACAe,EAAApC,UAAA,OACAoC,EAAAd,UACAC,WAAA0B,EAAAC,WACA1B,cAAAyB,EAAAvE,UAEAuE,EAAAvE,SAAA,CACA,IAAAyE,IAEAzF,KAAAuF,EAAAvE,SACA4D,IAAAW,EAAAvE,WAGA0D,EAAAV,SAAAyB,EAAAd,OAAA,QAEAD,EAAAV,aAGA0B,eApEA,eAAAC,EAAA1G,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAwG,IAAA,IAAAlB,EAAAjF,EAAAC,EAAA,OAAAP,mBAAAS,KAAA,SAAAiG,GAAA,eAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,UAqEA2E,EAAArG,KACAqG,EAAAd,SAAAC,WAtEA,CAAAgC,EAAA9F,KAAA,eAuEA2E,EAAAG,SAAAiB,QAAA,aAvEAD,EAAA3E,OAAA,oBA0EAwD,EAAAd,SAAAE,cA1EA,CAAA+B,EAAA9F,KAAA,eA2EA2E,EAAAG,SAAAiB,QAAA,aA3EAD,EAAA3E,OAAA,wBAAA2E,EAAA/F,KAAA,EA+EAL,GACA+F,WAAAd,EAAAd,SAAAC,WACA7C,SAAA0D,EAAAd,SAAAE,eAjFA+B,EAAA9F,KAAA,GAmFA2E,EAAArE,OAAAC,MAAA,GAAAC,OACAC,IAAAC,UAAAsF,qBACAtG,GArFA,WAmFAC,EAnFAmG,EAAAlF,KAuFA,IAAAjB,EAAAkB,KAvFA,CAAAiF,EAAA9F,KAAA,gBAwFA2E,EAAAG,SAAAmB,QAAA,SAxFAH,EAAA9F,KAAA,GAyFA2E,EAAAuB,UAzFA,QA0FAvB,EAAAf,cAAA,EA1FAkC,EAAA9F,KAAA,iBA4FA2E,EAAAG,SAAArF,MAAAE,EAAAmB,QA5FA,QAAAgF,EAAA9F,KAAA,iBAAA8F,EAAA/F,KAAA,GAAA+F,EAAAxE,GAAAwE,EAAA,YA+FAnB,EAAAG,SAAArF,MAAAqG,EAAAxE,IA/FA,yBAAAwE,EAAAvE,SAAAsE,EAAAvH,OAAA,oCAAAsH,EAAAnE,MAAAnD,KAAAoD,YAAA,GAkGAyE,OAlGA,SAkGAX,GACAY,OAAAC,KAAA,qBAAA7F,OAAAgF,EAAAc,OAAA,UAAA9F,OAAAgF,EAAAvF,QAMAsG,OAzGA,WA0GAH,OAAAC,KAAA,uCAOAH,QAjHA,eAAAM,EAAAtH,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAoH,IAAA,IAAA9B,EAAAjF,EAAAC,EAAAC,EAAA,OAAAR,mBAAAS,KAAA,SAAA6G,GAAA,eAAAA,EAAA3G,KAAA2G,EAAA1G,MAAA,cAmHA2E,EAAArG,KAnHAoI,EAAA3G,KAAA,EAqHAL,GACAO,KAAA0E,EAAAvC,WACAlC,KAAAyE,EAAAtC,QACAlC,MAAAwE,EAAArC,SACAlC,UAAAuE,EAAAhB,UAAA,SACAtD,QAAAsE,EAAAhB,UAAA,UA1HA+C,EAAA1G,KAAA,EA4HA2E,EAAArE,OAAAC,MAAA,GAAAC,OACAC,IAAAC,UAAAC,sBACAjB,GA9HA,UA4HAC,EA5HA+G,EAAA9F,KAgIA,IAAAjB,EAAAkB,KAhIA,CAAA6F,EAAA1G,KAAA,gBAAA0G,EAAA1G,KAAA,EAiIAL,EAAAmB,OAAAnB,KAAAoB,IAAA,SAAAC,GAKA,OAJAA,EAAA2F,WAAAhC,EAAAiC,KAAAD,WAAA3F,EAAA2F,WAAA,kBACA3F,EAAAC,WACAD,EAAAC,SAAA,KAEAD,IAtIA,OAiIApB,EAjIA8G,EAAA9F,KAwIA+D,EAAAvD,KACAzB,KAAAC,EACAO,MAAAR,EAAAmB,OAAAX,OA1IAuG,EAAA1G,KAAA,iBA6IA2E,EAAAG,SAAArF,MAAAE,EAAAmB,QA7IA,QAAA4F,EAAA1G,KAAA,iBAAA0G,EAAA3G,KAAA,GAAA2G,EAAApF,GAAAoF,EAAA,YAgJA/B,EAAAG,SAAArF,MAAAiH,EAAApF,IAhJA,yBAAAoF,EAAAnF,SAAAkF,EAAAnI,OAAA,oCAAAkI,EAAA/E,MAAAnD,KAAAoD,YAAA,GAoJAmF,oBApJA,SAoJAC,GACAxI,KAAA+D,QAAAyE,EACAxI,KAAA4H,WAEAa,aAxJA,SAwJAC,GACA,IAAArC,EAAArG,KACAqG,EAAAuB,WAEAe,mBA5JA,SA4JAD,GACA1I,KAAA4H,YAGAgB,YAzRA,WAyRA,IAAAC,EAAA7I,KACAqG,EAAArG,KACAqG,EAAAvD,IAAAzB,KAAAoB,IAAA,SAAAC,GAEA,OADAA,EAAA2F,WAAAQ,EAAAP,KAAAD,WAAA3F,EAAA2F,WAAA,kBACAhC,EAAAvD,IAAAzB,QAGAyH,QAhSA,cCtFqRC,EAAA,0BCQrRC,EAAApI,OAAAqI,EAAA,KAAArI,CACAmI,EACAjJ,EACAS,GACA,EACA,KACA,WACA,MAIAyI,EAAAE,QAAAC,OAAA,YACAC,EAAA,WAAAJ","file":"js/chunk-309a.1a5304cc.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=169c5242&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=169c5242&scoped=scoped&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"wait\"},[_vm._v(\"功能暂未开发，敬请期待！\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- <section id=\"permission\" class=\"flex flex-v\">\n    <section class=\"permission_title\">线上推广落地页</section>\n    <section class=\"permission_table flex-1\">\n      <section class=\"permission_table_top flex flex-pack-justify\">\n        <section class=\"flex flex-align-center flex-1\">\n          <section class=\"flex flex-align-center\">\n            <span class=\"labelname\">\n              推广活动搜索：\n            </span>\n            <el-input class=\"user_phone\" v-model=\"searchname\" @keyup.enter.native=\"getList\">\n              <el-button slot=\"append\" @click=\"getList\" icon=\"el-icon-search\"></el-button>\n            </el-input>\n          </section>\n          <section class=\"flex flex-align-center\">\n            <section class=\"block2\">\n              <el-date-picker v-model=\"dataValue\" type=\"daterange\" :default-time=\"['00:00:00', '23:59:59']\" @change=\"handleSelectByTime\" align=\"right\"\n                unlink-panels value-format=\"timestamp\" range-separator=\"-\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"\n                :picker-options=\"pickerOptions2\">\n              </el-date-picker>\n            </section>\n          </section>\n        </section>\n        <section>\n          <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" @click=\"addSetting\">新建配置</el-button>\n        </section>\n      </section>\n      <section class=\"permission_table_content\">\n        <el-table :data=\"res.data\" style=\"width: 100%\">\n          <el-table-column fixed=\"left\" type=\"index\" label=\"序号\" width=\"100\">\n          </el-table-column>\n          <el-table-column prop=\"name\" label=\"推广活动名称\">\n          </el-table-column>\n          <el-table-column prop=\"activityId\" label=\"推广活动ID\">\n          </el-table-column>\n          <el-table-column prop=\"newImageUrl\" label=\"配置文件名\">\n          </el-table-column>\n          <el-table-column prop=\"createTime\" label=\"创建时间\">\n          </el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"160\">\n            <template slot-scope=\"scope\">\n              <section>\n                <el-button type=\"text\" size=\"small\" @click=\"updateSetting(scope.row)\">\n                  <span>修改</span>\n                </el-button>\n              </section>\n            </template>\n          </el-table-column>\n        </el-table>\n      </section>\n    </section>\n    <el-dialog :title=\"planTitle\" :visible.sync=\"outerVisible\">\n      <el-form :model=\"planForm\" label-width=\"120px\" class=\"column-form\" :disabled=\"planDisabled\">\n        <el-form-item label=\"活动ID：\" prop=\"planname\">\n          <el-input v-model=\"planForm.activityid\" class=\"channelinput\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上传页面图片：\" v-loading.body=\"loadingAvatarUpload\">\n          <el-upload\n          :action=\"uploadUrl\"\n          :headers=\"headers\"\n          :on-success=\"handleFileSuccess\"\n          :before-upload=\"beforeFileUpload\" \n          :on-remove=\"handleRemove\"\n          :before-remove=\"beforeRemove\"\n          :file-list=\"fileList\">\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          <section slot=\"tip\" class=\"el-upload__tip\">尺寸：1125 * 2001；只能上传图片，且不超过800kb</section>\n        </el-upload>\n        </el-form-item>\n      </el-form>\n      <section slot=\"footer\" class=\"dialog-footer\">\n        <section>\n          <el-button @click=\"outerVisible1 = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"sureAddSetting\">确 定</el-button>\n        </section>\n      </section>\n    </el-dialog>\n    <section class=\"block cloumn-block\" v-if=\"res.count>0\">\n      <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"pagenum\" :page-size=\"pagesize\" layout=\"total, prev, pager, next, jumper\"\n        :total=\"res.count\">\n      </el-pagination>\n    </section>\n  </section> -->\n  <section class=\"wait\">功能暂未开发，敬请期待！</section>  \n</template>\n<script>\nexport default {\n  middleware: \"auth\",\n  async asyncData({ app, error }) {\n    try {\n      let para = {\n        name: \"\",\n        page: 1,\n        count: 10,\n        startTime: null,\n        endTime: null\n      };\n      let data = await app.$axios.$post(\n        `${api.promotion.activity_config_list}`,\n        para\n      );\n      if (data.code === 0) {\n        let arr = await data.result.data.map(x => {\n          // x.createTime = $async.createTime(x.createTime, \"yy-mm-dd hh:MM\");\n          if (!x.imageUrl) {\n            x.newImageUrl = \"-\";\n          } else {\n            x.newImageUrl = x.imageUrl;\n          }\n          return x;\n        });\n        return {\n          res: {\n            data: arr,\n            count: data.result.count\n          }\n        };\n      } else {\n        error({\n          message: `错误代码:${data.code}, ${data.result}`\n        });\n      }\n    } catch (err) {\n      error({\n        message: `${err}`\n      });\n    }\n  },\n  computed: {\n    headers() {\n      // console.log(this.$store.state.token)\n      if (this.$store.state.token) {\n        return {\n          Authorization: `CloserSysAuth ${this.$store.state.token}`\n        };\n      } else {\n        return false;\n      }\n    },\n    authUser() {\n      return this.$store.state.authUser\n        ? JSON.parse(this.$store.state.authUser)\n        : false;\n    }\n  },\n  data() {\n    return {\n      res: {\n        data: [],\n        count: \"\"\n      },\n      searchname: \"\",\n      // 分页\n      pagenum: 1,\n      pagesize: 10,\n      planTitle: \"新建推广计划\",\n      op: \"\", // 操作类型\n      // 加载\n      uploadUrl: `${server.filePath}${server.file}`,\n      // 日期选择\n      pickerOptions2: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [\n          {\n            text: \"最近一周\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近一个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近三个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          }\n        ]\n      },\n      // 绑定选择到的日期 数组\n      dataValue: \"\",\n      outerVisible: false,\n      planForm: {\n        activityid: \"\",\n        fileOnlineUrl: \"\"\n      },\n      // 搜索字段\n      stype: \"\", //\n      fileList: [],\n      loadingAvatarUpload: false\n    };\n  },\n  methods: {\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    // 上传 文件 变化\n    handleFileSuccess(res, file, fileList) {\n      let self = this;\n      try {\n        if (res.code === 0) {\n          self.fileList = fileList.slice(-1);\n          self.planForm.fileOnlineUrl = `${server.filePath}${res.result.url}`;\n        } else {\n          self.$message.error(res.result);\n        }\n      } catch (err) {\n        self.$message.error(err);\n      }\n    },\n    beforeFileUpload(file) {\n      let self = this;\n      const isImage = file.type.indexOf(\"image\") > -1;\n      const isLt800KB = file.size / 1024 / 1024 < 0.8;\n      if (!isImage) {\n        self.$message.error(\"上传文件只能是 JSON 文件!\");\n        self.loadingAvatarUpload = false;\n      }\n      if (!isLt800KB) {\n        self.loadingAvatarUpload = false;\n        self.$message.error(\"上传文件大小不能超过 800kb!\");\n      }\n      return isImage && isLt800KB;\n    },\n    // 添加配置\n    addSetting() {\n      let self = this;\n      self.outerVisible = true;\n      self.planTitle = \"新建配置\";\n      self.planForm = {\n        activityid: \"\",\n        fileOnlineUrl: \"\"\n      };\n    },\n    updateSetting(row) {\n      let self = this;\n      self.outerVisible = true;\n      self.planTitle = \"修改配置\";\n      self.planForm = {\n        activityid: row.activityId,\n        fileOnlineUrl: row.imageUrl\n      };\n      if (row.imageUrl) {\n        let _fileList = [\n          {\n            name: row.imageUrl,\n            url: row.imageUrl\n          }\n        ];\n        self.fileList = _fileList.slice(-1);\n      } else {\n        self.fileList = [];\n      }\n    },\n    async sureAddSetting() {\n      let self = this;\n      if (!self.planForm.activityid) {\n        self.$message.warning(\"活动id不能为空！\");\n        return;\n      }\n      if (!self.planForm.fileOnlineUrl) {\n        self.$message.warning(\"配置图片不能为空！\");\n        return;\n      }\n      try {\n        let para = {\n          activityId: self.planForm.activityid,\n          imageUrl: self.planForm.fileOnlineUrl\n        };\n        let data = await self.$axios.$post(\n          `${api.promotion.activity_config_add}`,\n          para\n        );\n        if (data.code === 0) {\n          self.$message.success(\"操作成功！\");\n          await self.getList();\n          self.outerVisible = false;\n        } else {\n          self.$message.error(data.result);\n        }\n      } catch (e) {\n        self.$message.error(e);\n      }\n    },\n    spread(row) {\n      window.open(`/statistic/spread/${row.planid}?type=${row.name}`);\n\n      // this.$router.push({\n      //   path: `/statistic/spread/${row.planid}?type=${row.name}`\n      // });\n    },\n    retain() {\n      window.open(`/statistic/retain/channel/8asd19ds`);\n      // channel渠道  plan推广  activity活动\n      // this.$router.push({\n      //   path: `/statistic/retain/channel/8asd19ds`\n      // });\n    },\n    // 获取渠道或者推广计划列表 包括搜索\n    async getList() {\n      // 0:推广计划，1:渠道\n      let self = this;\n      try {\n        let para = {\n          name: self.searchname,\n          page: self.pagenum,\n          count: self.pagesize,\n          startTime: self.dataValue[0] || null,\n          endTime: self.dataValue[1] || null\n        };\n        let data = await self.$axios.$post(\n          `${api.promotion.activity_config_list}`,\n          para\n        );\n        if (data.code === 0) {\n          let arr = await data.result.data.map(x => {\n            x.createTime = self.$com.createTime(x.createTime, \"yy-mm-dd hh:MM\");\n            if (!x.imageUrl) {\n              x.imageUrl = \"-\";\n            }\n            return x;\n          });\n          self.res = {\n            data: arr,\n            count: data.result.count\n          };\n        } else {\n          self.$message.error(data.result);\n        }\n      } catch (err) {\n        self.$message.error(err);\n      }\n    },\n    // 分页\n    handleCurrentChange(val) {\n      this.pagenum = val;\n      this.getList();\n    },\n    handleSelect(item) {\n      let self = this;\n      self.getList();\n    },\n    handleSelectByTime(item) {\n      this.getList();\n    }\n  },\n  beforeMount() {\n    let self = this;\n    self.res.data.map(x => {\n      x.createTime = this.$com.createTime(x.createTime, \"yy-mm-dd hh:MM\");\n      return self.res.data;\n    });\n  },\n  mounted() {}\n};\n</script>\n<style scoped=\"scoped\">\n.labelname {\n  margin-right: 10px;\n  min-width: 60px;\n}\n.channelinput {\n  width: 240px;\n}\n.list-filter-select {\n  max-width: 100px;\n  margin-right: 20px;\n}\n\n.user_phone {\n  margin-right: 20px;\n  max-width: 200px;\n}\n\n.permission_table_middle {\n  height: 30px;\n  background: #fff;\n  padding: 0 20px;\n}\n\n.dialog-label {\n  width: 120px;\n}\n\n.dialog-sure {\n  margin-left: 20px;\n}\n\n.searchtrue {\n  height: 40px;\n  border-bottom: 1px solid #f4f4f4;\n}\n\n.searchname {\n  margin: 0 40px;\n}\n\n.searcherror {\n  color: red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=169c5242&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=169c5242&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"169c5242\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}