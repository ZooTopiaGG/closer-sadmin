{"version":3,"sources":["webpack:///./src/views/login/index.vue?d5b3","webpack:///./src/views/login/index.vue?cc5c","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?5b56","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?194a"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","_v","ref","model","ruleForm2","rules","status-icon","to","prop","type","maxlength","placeholder","prefix-icon","value","callback","$$v","$set","expression","disabled","on","click","$event","getCode","phone","_s","text","staticStyle","width","margin-top","submitForm","staticRenderFns","loginvue_type_script_lang_js_","name","computed","Object","objectSpread","vuex_esm","authUser","$store","state","data","code","loading","required","message","trigger","min","max","methods","_submitForm","asyncToGenerator","regeneratorRuntime","mark","_callee2","formName","self","wrap","_context2","prev","next","$refs","validate","_ref","_callee","valid","res","permissions","_context","toLogin","udid","protocol","sent","$router","push","path","JSON","stringify","permission","city","content","columnCity","parse","length","finance","log","$message","error","abrupt","stop","_x2","apply","arguments","_x","beforeMount","timeUserFun","mounted","document","addEventListener","event","keyCode","views_loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_1_id_74ca167b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-41c3.103911d6.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-scrollbar',{staticClass:\"page_container\"},[_c('div',{staticClass:\"form flex flex-pack-center\"},[_c('div',{staticClass:\"logo flex flex-v flex-align-center\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo-super.png\")}}),_c('span',[_vm._v(\"贴近超管后台\")])]),_c('div',{staticClass:\"line-split\"}),_c('el-form',{ref:\"ruleForm2\",staticClass:\"login-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"rules\":_vm.rules,\"status-icon\":\"\"}},[_c('el-form-item',{staticClass:\"login-title-item\"},[_c('div',{staticClass:\" flex flex-pack-justify\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(\"登 录\")]),_c('div',{staticClass:\"register-title\"},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"去注册\")])],1)])]),_c('el-form-item',{attrs:{\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"tel\",\"maxlength\":\"11\",\"placeholder\":\"请输入手机号\",\"prefix-icon\":\"el-icon-mobile-phone\"},model:{value:(_vm.ruleForm2.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"phone\", $$v)},expression:\"ruleForm2.phone\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('div',{staticClass:\"flex flex-pack-justify\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入验证码\",\"maxlength\":\"6\",\"prefix-icon\":\"el-icon-goods\"},model:{value:(_vm.ruleForm2.code),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"code\", $$v)},expression:\"ruleForm2.code\"}}),_c('el-button',{staticClass:\"sendcode\",attrs:{\"disabled\":_vm.disabled,\"type\":\"primary\"},on:{\"click\":function($event){_vm.getCode({ phone: _vm.ruleForm2.phone, type: '2' })}}},[_vm._v(_vm._s(_vm.text))])],1)]),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"22px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm2')}}},[(_vm.loading)?_c('span',[_c('span',{staticClass:\"el-icon-loading\"}),_c('span',[_vm._v(\"正在登录\")])]):_c('span',[_vm._v(\"登 录\")])])],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <el-scrollbar class=\"page_container\">\n      <div class=\"form flex flex-pack-center\">\n        <div class=\"logo flex flex-v flex-align-center\">\n          <img src=\"@/assets/images/logo-super.png\">\n          <span>贴近超管后台</span>\n        </div>\n        <div class=\"line-split\"></div>\n        <el-form :model=\"ruleForm2\" :rules=\"rules\" status-icon ref=\"ruleForm2\" class=\"login-ruleForm\">\n          <el-form-item class=\"login-title-item\">\n            <div class=\" flex flex-pack-justify\">\n              <div class=\"login-title\">登 录</div>\n              <div class=\"register-title\">\n                <router-link to=\"/register\">去注册</router-link>\n              </div>\n            </div>\n          </el-form-item>\n          <el-form-item prop=\"phone\">\n            <el-input type=\"tel\" maxlength=\"11\" placeholder=\"请输入手机号\" prefix-icon=\"el-icon-mobile-phone\" v-model=\"ruleForm2.phone\">\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"code\">\n            <div class=\"flex flex-pack-justify\">\n              <el-input placeholder=\"请输入验证码\" maxlength=\"6\" prefix-icon=\"el-icon-goods\" v-model=\"ruleForm2.code\">\n              </el-input>\n              <el-button class=\"sendcode\" @click=\"getCode({ phone: ruleForm2.phone, type: '2' })\" :disabled=\"disabled\" type=\"primary\">{{ text }}</el-button>\n            </div>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" style=\"width:100%;margin-top:22px;\" @click=\"submitForm('ruleForm2')\">\n              <span v-if=\"loading\">\n                <span class=\"el-icon-loading\"></span>\n                <span>正在登录</span>\n              </span>\n              <span v-else>登 录</span>\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-scrollbar>\n  </div>\n</template>\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"container\",\n  computed: {\n    ...mapState(\"login\", [\"disabled\", \"text\"]),\n    authUser() {\n      return this.$store.state.authUser;\n    }\n  },\n  data() {\n    var validatePhone = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"不可为空\"));\n      }\n      if (!$async.isPhoneNum(value)) {\n        callback(new Error(\"格式错误\"));\n      }\n      callback();\n    };\n    return {\n      ruleForm2: {\n        phone: \"\",\n        code: \"\",\n        name: \"\",\n        text: \"发送验证码\"\n      },\n      // disabled: false,\n      loading: false,\n      rules: {\n        // phone: [\n        //   { validator: validatePhone, trigger: 'blur'}\n        // ],\n        phone: [\n          {\n            required: true,\n            message: \"不可为空\",\n            trigger: \"blur\"\n          },\n          {\n            min: 11,\n            max: 11,\n            message: \"请输入11位手机号\",\n            trigger: \"blur\"\n          }\n        ],\n        code: [\n          {\n            required: true,\n            message: \"不可为空\",\n            trigger: \"blur\"\n          },\n          {\n            min: 6,\n            max: 6,\n            message: \"请输入6位验证码\",\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    ...mapActions(\"login\", [\"toLogin\", \"getCode\"]),\n    async submitForm(formName) {\n      let self = this;\n      self.loading = true;\n      self.$refs[formName].validate(async valid => {\n        if (valid) {\n          let res = await self.toLogin({\n            phone: self.ruleForm2.phone,\n            code: self.ruleForm2.code,\n            udid: \"\",\n            protocol: \"GW\"\n          });\n          if (res) {\n            self.ruleForm2.code = \"\";\n            if (self.authUser.type === 1) {\n              self.$router.push({\n                path: \"/permission\"\n              });\n            } else {\n              if (JSON.stringify(self.authUser.permissions) != \"{}\") {\n                // 去权限设置页面\n                // 去城市管理页面\n                // 去栏目管理 审核页面\n                // 去栏目管理 工作量查看页面\n                // 去操作日志页面\n                // 去财务管理页面\n                let permissions = self.authUser.permissions;\n                if (permissions.permission) {\n                  self.$router.push({\n                    path: \"/permission\"\n                  });\n                } else if (permissions.city) {\n                  self.$router.push({\n                    path: \"/city\"\n                  });\n                } else if (permissions.content) {\n                  self.$router.push({\n                    path: \"/content\"\n                  });\n                } else if (\n                  self.authUser.columnCity &&\n                  JSON.parse(self.authUser.columnCity).length > 0\n                ) {\n                  self.$router.push({\n                    path: \"/column\"\n                  });\n                } else if (permissions.finance) {\n                  self.$router.push({\n                    path: \"/finance/records/column\"\n                  });\n                } else if (permissions.log) {\n                  self.$router.push({\n                    path: \"/log\"\n                  });\n                }\n              } else if (\n                self.authUser.columnCity &&\n                JSON.parse(self.authUser.columnCity).length > 0\n              ) {\n                self.$router.push({\n                  path: \"/column\"\n                });\n              } else {\n                self.$router.push({\n                  path: \"/general\"\n                });\n              }\n            }\n          }\n          self.loading = false;\n        } else {\n          self.$message.error(\"手机号或验证码错误\");\n          self.loading = false;\n          return false;\n        }\n      });\n    }\n  },\n  beforeMount() {\n    timeUserFun(\n      0.1,\n      () => {\n        return \"clearIt\";\n      },\n      \"clearIt\"\n    );\n  },\n  mounted() {\n    let self = this;\n    document.addEventListener(\"keyup\", function(event) {\n      switch (event.keyCode) {\n        case 13:\n          self.submitForm(\"ruleForm2\");\n          return;\n        default:\n          return false;\n      }\n    });\n  }\n};\n</script>\n<style>\n.page_container .el-scrollbar__wrap {\n  overflow-x: auto;\n}\n</style>\n<style scoped>\n.container {\n  overflow-x: auto;\n  height: 100vh;\n}\n\n.page_container {\n  height: 100%;\n}\n\n.form {\n  margin: 15vh auto 0;\n  height: 75vh;\n}\n\n.logo {\n  font-size: 36px;\n  color: #2c2c2c;\n}\n\n.logo {\n  padding-top: 20vh;\n  box-sizing: border-box;\n}\n\n.login-ruleForm {\n  box-sizing: border-box;\n  padding-top: 15vh;\n}\n\n.logo img {\n  height: 116px;\n  margin-bottom: 14px;\n}\n\n.sendcode {\n  margin-left: 10px;\n}\n\n.line-split {\n  height: 75vh;\n  width: 1px;\n  background-color: #979797;\n  margin-left: 60px;\n  margin-right: 200px;\n}\n\n.login-title-item {\n  border-bottom: 1px solid #f4f4f4;\n  margin-bottom: 5vh;\n}\n\n.login-title {\n  width: 80px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  background: #fddb00;\n  color: #666666;\n  border-radius: 4px 4px 0 0;\n}\n\n.register-title a {\n  color: #999;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=74ca167b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=74ca167b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74ca167b\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=74ca167b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=74ca167b&scoped=true&lang=css&\""],"sourceRoot":""}