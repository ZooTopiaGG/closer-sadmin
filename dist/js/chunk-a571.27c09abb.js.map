{"version":3,"sources":["webpack:///./src/views/content/cover.vue?1172","webpack:///./src/views/content/cover.vue?393f","webpack:///./src/views/content/cover.vue?55c1","webpack:///src/views/content/cover.vue","webpack:///./src/views/content/cover.vue?660a","webpack:///./src/views/content/cover.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cover_vue_vue_type_style_index_1_id_5dbab99e_scoped_scoped_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cover_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","_v","placeholder","on","change","handleSelectRegion","model","value","callback","$$v","fliterregion","expression","_l","item","key","region_name","label","region_id","staticStyle","margin-left","margin-right","nativeOn","keyup","$event","_k","keyCode","searchCover","cover_value","title_value","icon","click","type","clearSearch","width","data","coverList","fixed","scopedSlots","_u","fn","scope","src","$com","makeFileUrl","row","cover","alt","prop","color","disabled","size","sureGotoCover","preview","current-page","coverpara","pagenum","page-size","pagesize","layout","total","count","current-change","handleCurrentChange","title","visible","dialogVisible","update:visible","pre_src","frameborder","height","staticRenderFns","covervue_type_script_lang_js_","computed","Object","objectSpread","vuex_esm","state","searchregion","regionsList","defaultRegion","res","communityName","cityregions","keywords","created","methods","url","host","window","location","test","concat","subjectid","getCoverList","_getCoverList","asyncToGenerator","regeneratorRuntime","mark","_callee","self","wrap","_context","prev","next","adminSearch","stop","apply","arguments","val","_sureGotoCover","_callee3","_this","_context3","$confirm","confirmButtonText","cancelButtonText","then","_callee2","_context2","gotoCover","catch","$message","message","_x","_gotoCover","_callee4","_context4","warning","abrupt","coverSetting","sent","_x2","mounted","$nextTick","_callee5","_context5","getRegionsList","error","content_covervue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-a571.27c09abb.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=style&index=1&id=5dbab99e&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=style&index=1&id=5dbab99e&scoped=scoped&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"flex flex-v\",attrs:{\"id\":\"permission\"}},[_c('section',{staticClass:\"permission_title\"},[_vm._v(\"封面文章\")]),_c('section',{staticClass:\"permission_table flex-1\"},[_c('section',{staticClass:\"permission_table_top flex\"},[_c('section',{staticClass:\"flex flex-align-center\"},[_c('el-select',{staticClass:\"list-filter-select\",attrs:{\"placeholder\":\"所属区域\"},on:{\"change\":_vm.handleSelectRegion},model:{value:(_vm.fliterregion),callback:function ($$v) {_vm.fliterregion=$$v},expression:\"fliterregion\"}},_vm._l((_vm.searchregion),function(item){return _c('el-option',{key:item.region_name,attrs:{\"label\":item.region_name,\"value\":item.region_id}})}))],1),_c('section',{staticClass:\"flex flex-align-center\",staticStyle:{\"margin-left\":\"30px\",\"margin-right\":\"10px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入栏目名称\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCover($event)}},model:{value:(_vm.cover_value),callback:function ($$v) {_vm.cover_value=$$v},expression:\"cover_value\"}})],1),_c('section',{staticClass:\"flex flex-align-center\",staticStyle:{\"margin-left\":\"30px\",\"margin-right\":\"10px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入标题（关键词语，常用词语）\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCover($event)}},model:{value:(_vm.title_value),callback:function ($$v) {_vm.title_value=$$v},expression:\"title_value\"}})],1),_c('section',{staticClass:\"flex flex-align-center\",staticStyle:{\"margin-left\":\"30px\",\"margin-right\":\"10px\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchCover}},[_vm._v(\"立即搜索\")])],1),_c('section',{staticClass:\"flex flex-align-center\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"清除搜索\")])],1)]),_c('section',{staticClass:\"permission_table_content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.coverList.data,\"id\":\"cover\"}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"label\":\"缩略图\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('section',[_c('img',{staticClass:\"table_logo\",attrs:{\"src\":_vm.$com.makeFileUrl(scope.row.cover),\"alt\":\"\"}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"long_publish_time\",\"label\":\"发布时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"communityName\",\"label\":\"来源\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"投稿人\"}}),_c('el-table-column',{attrs:{\"prop\":\"userid\",\"label\":\"投稿人ID\"}}),_c('el-table-column',{attrs:{\"label\":\"封面贴\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_bigCover_card)?_c('span',{staticStyle:{\"color\":\"#85c976\"}},[_vm._v(\"是\")]):_c('span',[_vm._v(\"否\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"out\",\"label\":\"站外阅读\"}}),_c('el-table-column',{attrs:{\"prop\":\"in\",\"label\":\"站内阅读\"}}),_c('el-table-column',{attrs:{\"label\":\"上封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_bigCover_card)?_c('el-button',{attrs:{\"type\":\"info\",\"disabled\":\"disabled\",\"size\":\"medium\"}},[_vm._v(\"上封面\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.sureGotoCover(scope.row)}}},[_vm._v(\"上封面\")])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.preview(scope.row)}}},[_vm._v(\"预览\")])]}}])})],1)],1)]),_c('section',{staticClass:\"block cloumn-block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.coverpara.pagenum,\"page-size\":_vm.coverpara.pagesize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.coverList.count},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{staticClass:\"preview\",attrs:{\"title\":\"手机预览\",\"visible\":_vm.dialogVisible,\"width\":\"375px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('iframe',{attrs:{\"src\":_vm.pre_src,\"frameborder\":\"0\",\"width\":\"375px\",\"height\":\"667px\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section id=\"permission\" class=\"flex flex-v\">\n    <section class=\"permission_title\">封面文章</section>\n    <section class=\"permission_table flex-1\">\n      <section class=\"permission_table_top flex\">\n        <section class=\"flex flex-align-center\">\n          <el-select class='list-filter-select' @change=\"handleSelectRegion\" v-model=\"fliterregion\" placeholder=\"所属区域\">\n              <el-option v-for=\"item in searchregion\" :key=\"item.region_name\" :label=\"item.region_name\" :value=\"item.region_id\">\n              </el-option>\n            </el-select>\n        </section>\n        <section class=\"flex flex-align-center\" style=\"margin-left: 30px;margin-right: 10px\">\n          <el-input v-model=\"cover_value\" placeholder=\"请输入栏目名称\" @keyup.enter.native=\"searchCover\">\n          </el-input>\n        </section>\n        <section class=\"flex flex-align-center\" style=\"margin-left: 30px;margin-right: 10px\">\n          <el-input v-model=\"title_value\" placeholder=\"请输入标题（关键词语，常用词语）\" @keyup.enter.native=\"searchCover\">\n          </el-input>\n        </section>\n        <section class=\"flex flex-align-center\" style=\"margin-left: 30px;margin-right: 10px\" >\n          <el-button @click=\"searchCover\" icon=\"el-icon-search\">立即搜索</el-button>\n        </section>\n        <section class=\"flex flex-align-center\">\n          <el-button type=\"text\" @click=\"clearSearch\">清除搜索</el-button>\n        </section>\n      </section>\n      <section class=\"permission_table_content\">\n        <el-table :data=\"coverList.data\" style=\"width: 100%\" id=\"cover\">\n          <el-table-column fixed label=\"缩略图\" width=\"120\">\n            <template slot-scope=\"scope\">\n              <section>\n                <img :src=\"$com.makeFileUrl(scope.row.cover)\" alt=\"\" class=\"table_logo\">       \n              </section>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"title\" label=\"标题\">\n          </el-table-column>\n          <el-table-column prop=\"long_publish_time\" label=\"发布时间\">\n          </el-table-column>\n          <el-table-column prop=\"communityName\" label=\"来源\">\n          </el-table-column>\n          <el-table-column prop=\"username\" label=\"投稿人\">\n          </el-table-column>\n          <el-table-column prop=\"userid\" label=\"投稿人ID\">\n          </el-table-column>\n          <el-table-column label=\"封面贴\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.is_bigCover_card\" style=\"color:#85c976\">是</span>\n              <span v-else>否</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"out\" label=\"站外阅读\">\n          </el-table-column>\n          <el-table-column prop=\"in\" label=\"站内阅读\">\n          </el-table-column>\n          <el-table-column label=\"上封面\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"info\" v-if=\"scope.row.is_bigCover_card\" disabled=\"disabled\" size=\"medium\">上封面</el-button>\n              <el-button type=\"primary\" v-else size=\"medium\" @click=\"sureGotoCover(scope.row)\">上封面</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" size=\"medium\" @click=\"preview(scope.row)\">预览</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </section>\n    </section>\n    <section class=\"block cloumn-block\">\n      <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"coverpara.pagenum\" :page-size=\"coverpara.pagesize\" layout=\"total, prev, pager, next, jumper\"\n        :total=\"coverList.count\">\n      </el-pagination>\n    </section>\n    <el-dialog title=\"手机预览\" class=\"preview\" :visible.sync=\"dialogVisible\" width=\"375px\">\n       <iframe :src=\"pre_src\" frameborder=\"0\" width=\"375px\" height=\"667px\"></iframe>\n    </el-dialog>\n  </section>\n</template>\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  computed: {\n    ...mapState(\"content\", {\n      coverList: state => state.coverList,\n      searchregion: state => state.regionsList,\n      defaultRegion: state => state.defaultRegion\n    })\n  },\n  data() {\n    return {\n      pre_src: \"\",\n      dialogVisible: false,\n      res: {\n        data: [],\n        count: 0\n      },\n      cover_value: \"\",\n      title_value: \"\",\n      fliterregion: \"\",\n      // 分页\n      pagenum: 1,\n      pagesize: 10,\n      coverpara: {\n        communityName: \"\",\n        region_id: \"\",\n        pagesize: 10,\n        pagenum: 1\n      },\n      cityregions: {\n        keywords: \"\",\n        pagenum: 1,\n        pagesize: 100 // 城市列表\n      }\n    };\n  },\n  created() {\n    // this.getRegionsList(this.cityregions);\n    // this.adminSearch(this.coverpara);\n  },\n  methods: {\n    ...mapActions(\"content\", [\"adminSearch\", \"coverSetting\", \"getRegionsList\"]),\n    preview(row) {\n      let host = window.location.host,\n        url;\n      if (/sandbox.tiejin/.test(host)) {\n        url = \"https://h5-sandbox.tiejin.cn\";\n      } else if (/tiejin/.test(host)) {\n        url = \"https://h5.tiejin.cn\";\n      }\n      this.pre_src = `${url}/feed/${row.subjectid}?view=pre`;\n      this.dialogVisible = true;\n    },\n    async getCoverList() {\n      let self = this;\n      await self.adminSearch(self.coverpara);\n    },\n    // 分页\n    handleCurrentChange(val) {\n      this.coverpara[\"pagenum\"] = val;\n      this.getCoverList();\n    },\n    handleSelectRegion(val) {\n      this.coverpara[\"pagenum\"] = 1;\n      this.coverpara[\"region_id\"] = this.fliterregion;\n      this.getCoverList();\n    },\n    searchCover() {\n      let self = this;\n      self.coverpara = {\n        communityName: self.cover_value,\n        title: self.title_value,\n        region_id: self.fliterregion,\n        pagesize: 10,\n        pagenum: 1\n      };\n      self.getCoverList();\n    },\n    clearSearch() {\n      let self = this;\n      self.cover_value = \"\";\n      self.title_value = \"\";\n      self.coverpara[\"pagenum\"] = 1;\n      self.coverpara[\"communityName\"] = \"\";\n      self.coverpara[\"title\"] = \"\";\n      self.getCoverList();\n    },\n    async sureGotoCover(row) {\n      let self = this;\n      self\n        .$confirm(\"此操作将设置该贴子为封面贴，是否继续？\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        })\n        .then(async () => {\n          await self.gotoCover(row);\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消操作\"\n          });\n        });\n    },\n    async gotoCover(row) {\n      if (!row.subjectid) {\n        self.$message.warning(\"上封面的贴子id， 不存在！\");\n        return;\n      }\n      let self = this;\n      let res = await self.coverSetting({\n        subjectid: row.subjectid,\n        region_id: self.fliterregion || \"0\"\n      });\n      if (res) {\n        await self.getCoverList();\n      }\n    }\n  },\n  mounted() {\n    let self = this;\n    self.$nextTick(async () => {\n      let defaultRegion = await self.getRegionsList(self.cityregions);\n      if (defaultRegion) {\n        self.fliterregion = defaultRegion;\n        self.coverpara = {\n          communityName: \"\",\n          region_id: self.fliterregion,\n          pagesize: 10,\n          pagenum: 1\n        };\n        self.adminSearch(self.coverpara);\n      } else {\n        self.$message.error(\"分配城市异常！\");\n      }\n    });\n  }\n};\n</script>\n<style>\n.preview .el-dialog {\n  min-width: 375px !important;\n  border-radius: 10px;\n  box-shadow: 0px 0px 25px #333;\n}\n.preview .el-dialog__body {\n  padding: 10px 0;\n}\n</style>\n\n<style scoped=\"scoped\">\n.labelname {\n  margin-right: 10px;\n  min-width: 130px;\n}\n\n.dialog-label {\n  width: 120px;\n}\n\n.dialog-sure {\n  margin-left: 20px;\n}\n\n.searchtrue {\n  height: 40px;\n  border-bottom: 1px solid #f4f4f4;\n}\n\n.searchname {\n  margin: 0 40px;\n}\n\n.searcherror {\n  color: red;\n}\n.table_logo {\n  width: 100px;\n  height: 55px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cover.vue?vue&type=template&id=5dbab99e&scoped=true&\"\nimport script from \"./cover.vue?vue&type=script&lang=js&\"\nexport * from \"./cover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cover.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./cover.vue?vue&type=style&index=1&id=5dbab99e&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dbab99e\",\n  null\n  \n)\n\ncomponent.options.__file = \"cover.vue\"\nexport default component.exports"],"sourceRoot":""}