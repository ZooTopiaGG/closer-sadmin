{"version":3,"sources":["webpack:///./src/views/activity/management/index.vue?024f","webpack:///./src/views/activity/management/index.vue?c645","webpack:///src/views/activity/management/index.vue","webpack:///./src/views/activity/management/index.vue?c011","webpack:///./src/views/activity/management/index.vue","webpack:///./src/assets/images/displaylogo.png"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0a1a01c0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","_v","staticStyle","width","data","activityLists","prop","label","scopedSlots","_u","key","fn","scope","src","row","logo","alt","fixed","authUser","type","size","on","click","$event","edit","start","status","look","permissions","activity","_e","text-align","title","visible","outerVisible1","update:visible","__webpack_require__","outerVisible","rules","label-width","disabled","isdisabled","placeholder","model","value","callback","$$v","displayname","expression","_s","displaysize","displaypage","directives","name","rawName","modifiers","body","action","uploadUrl","show-file-list","on-error","handleError","headers","on-success","handleAvatarSuccess","before-upload","beforeAvatarUpload","imageUrl","verDisabled","buildVer","displaystatus","slot","save","staticRenderFns","computed","Object","objectSpread","vuex_esm","Authorization","concat","$store","state","token","loadingAvatarUpload","api","filePath","file","imageOnlineUrl","operationtype","display","options","created","getAllActivity","pagenum","pagesize","methods","err","$message","error","res","self","code","success","URL","createObjectURL","raw","result","url","isImage","indexOf","isLt750KB","_save","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","warning","abrupt","$com","isUrl","updateActivity","activityId","sent","activityList","stop","apply","arguments","activityName","_activityList","_callee2","_context2","sureStart","_sureStart","_callee3","enabled","_context3","updateActivityStatus","_x","_start","_callee5","confirm","_this","_context5","console","log","$confirm","confirmButtonText","cancelButtonText","then","_callee4","_context4","catch","message","_x2","activity_managementvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__","module","exports","p"],"mappings":"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","file":"js/chunk-0028.f950992e.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0a1a01c0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0a1a01c0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-v\",attrs:{\"id\":\"permission\"}},[_c('div',{staticClass:\"permission_title\"},[_vm._v(\"活动管理\")]),_c('div',{staticClass:\"permission_table\"},[_c('div',{staticClass:\"permission_table_content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.activityLists.data}},[_c('el-table-column',{attrs:{\"prop\":\"activityName\",\"label\":\"活动名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"尺寸（px）\"}}),_c('el-table-column',{attrs:{\"prop\":\"url\",\"width\":\"280\",\"label\":\"关联页面\"}}),_c('el-table-column',{attrs:{\"label\":\"展示图\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('img',{staticClass:\"table_logo\",attrs:{\"src\":scope.row.logo,\"alt\":\"\"}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"展示状态\"}}),_c('el-table-column',{attrs:{\"prop\":\"buildVer\",\"label\":\"版本号\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.authUser.type === 1)?_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.start(scope.row)}}},[(scope.row.status ==='已停用')?_c('span',[_vm._v(\"启用\")]):_c('span',[_vm._v(\"停用\")])]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.look(scope.row)}}},[_vm._v(\"查看\")])],1):_c('div',[(_vm.authUser.permissions && _vm.authUser.permissions.activity && _vm.authUser.permissions.activity[0].permissions === 'activity_update')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),(_vm.authUser.permissions && _vm.authUser.permissions.activity && _vm.authUser.permissions.activity[0].permissions === 'activity_update')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.start(scope.row)}}},[(scope.row.status ==='已停用')?_c('span',[_vm._v(\"启用\")]):_c('span',[_vm._v(\"停用\")])]):_vm._e(),(_vm.authUser.permissions && _vm.authUser.permissions.activity && _vm.authUser.permissions.activity[0].permissions === 'activity_view')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.look(scope.row)}}},[_vm._v(\"查看\")]):_vm._e()],1)]}}])})],1)],1),_c('el-dialog',{staticStyle:{\"text-align\":\"center\"},attrs:{\"title\":\"查看位置\",\"visible\":_vm.outerVisible1},on:{\"update:visible\":function($event){_vm.outerVisible1=$event}}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/displaylogo.png\"),\"alt\":\"\"}})]),_c('el-dialog',{attrs:{\"title\":\"编辑活动\",\"visible\":_vm.outerVisible},on:{\"update:visible\":function($event){_vm.outerVisible=$event}}},[_c('div',{staticClass:\"dialog-content\"},[_c('el-form',{staticClass:\"city-ruleform\",attrs:{\"rules\":_vm.rules,\"label-width\":\"140px\",\"disabled\":_vm.isdisabled}},[_c('el-form-item',{attrs:{\"label\":\"活动名称：\"}},[_c('div',{staticClass:\"flex flex-align-center dialog-label\"},[_c('el-input',{attrs:{\"placeholder\":\"输入活动名称\"},model:{value:(_vm.displayname),callback:function ($$v) {_vm.displayname=$$v},expression:\"displayname\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"建议尺寸（px）：\"}},[_c('div',{staticClass:\"flex flex-align-center dialog-label\"},[_c('span',[_vm._v(_vm._s(_vm.displaysize))])])]),_c('el-form-item',{attrs:{\"label\":\"关联页面：\"}},[_c('div',{staticClass:\"flex flex-align-center\"},[_c('el-input',{attrs:{\"type\":\"url\",\"placeholder\":\"输入链接\"},model:{value:(_vm.displaypage),callback:function ($$v) {_vm.displaypage=$$v},expression:\"displaypage\"}})],1)]),_c('el-form-item',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loadingAvatarUpload),expression:\"loadingAvatarUpload\",modifiers:{\"body\":true}}],attrs:{\"label\":\"展示图：\"}},[_c('div',{staticClass:\"activity-cell flex flex-align-start\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"on-error\":_vm.handleError,\"headers\":_vm.headers,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)]),_c('el-form-item',{attrs:{\"label\":\"版本号：\"}},[_c('div',{staticClass:\"flex flex-align-center dialog-label\"},[_c('el-input',{attrs:{\"disabled\":_vm.verDisabled,\"placeholder\":\"待审版本号\"},model:{value:(_vm.buildVer),callback:function ($$v) {_vm.buildVer=$$v},expression:\"buildVer\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"展示位状态：\"}},[_c('div',{staticClass:\"flex flex-align-center dialog-label\"},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.displaystatus),callback:function ($$v) {_vm.displaystatus=$$v},expression:\"displaystatus\"}})],1)])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"permission\" class=\"flex flex-v\">\n    <div class=\"permission_title\">活动管理</div>\n    <div class=\"permission_table\">\n      <div class=\"permission_table_content\">\n        <el-table :data=\"activityLists.data\" style=\"width: 100%\">\n          <el-table-column prop=\"activityName\" label=\"活动名称\">\n          </el-table-column>\n          <el-table-column prop=\"size\" label=\"尺寸（px）\">\n          </el-table-column>\n          <el-table-column prop=\"url\" width=\"280\" label=\"关联页面\">\n          </el-table-column>\n          <el-table-column label=\"展示图\">\n            <template slot-scope=\"scope\">\n              <div>\n                <img :src=\"scope.row.logo\" alt=\"\" class=\"table_logo\">\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"status\" label=\"展示状态\">\n          </el-table-column>\n          <el-table-column prop=\"buildVer\" label=\"版本号\">\n          </el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"280\">\n            <template slot-scope=\"scope\">\n             <div v-if=\"authUser.type === 1\" >\n                <el-button  type=\"text\" size=\"medium\" @click=\"edit(scope.row)\">编辑</el-button>\n              <el-button type=\"text\" size=\"medium\" @click=\"start(scope.row)\">\n                <span v-if=\"scope.row.status ==='已停用'\">启用</span>\n                <span v-else>停用</span>\n              </el-button>\n              <el-button type=\"text\" size=\"medium\" @click=\"look(scope.row)\">查看</el-button>\n             </div>\n             <div v-else>\n              <el-button v-if=\"authUser.permissions && authUser.permissions.activity && authUser.permissions.activity[0].permissions === 'activity_update'\" type=\"text\" size=\"medium\" @click=\"edit(scope.row)\">编辑</el-button>\n              <el-button v-if=\"authUser.permissions && authUser.permissions.activity && authUser.permissions.activity[0].permissions === 'activity_update'\" type=\"text\" size=\"medium\" @click=\"start(scope.row)\">\n                <span v-if=\"scope.row.status ==='已停用'\">启用</span>\n                <span v-else>停用</span>\n              </el-button>\n              <el-button v-if=\"authUser.permissions && authUser.permissions.activity && authUser.permissions.activity[0].permissions === 'activity_view'\" type=\"text\" size=\"medium\" @click=\"look(scope.row)\">查看</el-button>\n             </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <el-dialog title=\"查看位置\" :visible.sync=\"outerVisible1\" style=\"text-align: center\">\n        <img src=\"@/assets/images/displaylogo.png\" alt=\"\">\n      </el-dialog>\n      <el-dialog title=\"编辑活动\" :visible.sync=\"outerVisible\">\n          <div class=\"dialog-content\">\n            <el-form class=\"city-ruleform\" :rules=\"rules\" label-width=\"140px\" :disabled=\"isdisabled\">\n              <el-form-item label=\"活动名称：\">\n                <div class=\"flex flex-align-center dialog-label\">\n                  <el-input v-model=\"displayname\" placeholder=\"输入活动名称\"></el-input>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"建议尺寸（px）：\">\n                <div class=\"flex flex-align-center dialog-label\">\n                  <span>{{ displaysize }}</span>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"关联页面：\">\n                <div class=\"flex flex-align-center\">\n                  <el-input type=\"url\" v-model=\"displaypage\" placeholder=\"输入链接\"></el-input>\n                </div>\n              </el-form-item>\n              <el-form-item v-loading.body=\"loadingAvatarUpload\" label=\"展示图：\">\n                <div class=\"activity-cell flex flex-align-start\">\n                  <el-upload class=\"avatar-uploader\" \n                  :action=\"uploadUrl\" \n                  :show-file-list=\"false\" \n                  :on-error=\"handleError\" \n                  :headers=\"headers\"\n                    :on-success=\"handleAvatarSuccess\" \n                    :before-upload=\"beforeAvatarUpload\">\n                    <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                  </el-upload>\n                  <!-- <div class=\"prompt flex flex-v\">\n                    <span class=\"flex-1\"></span>\n                    <span>尺寸：750*930像素</span>\n                    <span>大小：不超过500kb</span>\n                  </div> -->\n                </div>\n              </el-form-item>\n              <el-form-item label=\"版本号：\">\n                <div class=\"flex flex-align-center dialog-label\">\n                  <el-input v-model=\"buildVer\" :disabled=\"verDisabled\" placeholder=\"待审版本号\"></el-input>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"展示位状态：\">\n                <div class=\"flex flex-align-center dialog-label\">\n                  <el-input v-model=\"displaystatus\" :disabled=\"true\"></el-input>\n                </div>\n              </el-form-item>\n            </el-form>\n          </div>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"save\">保 存</el-button>\n          </div>\n        </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  computed: {\n    ...mapState(\"activity\", [\"activityLists\"]),\n    headers() {\n      return {\n        Authorization: `CloserSysAuth ${this.$store.state.token}`\n      };\n    },\n    authUser() {\n      return this.$store.state.authUser;\n    }\n  },\n  data() {\n    return {\n      isdisabled: false,\n      verDisabled: false,\n      rules: {},\n      loadingAvatarUpload: false,\n      outerVisible: false,\n      outerVisible1: false,\n      uploadUrl: `${api.filePath}${api.file}`,\n      imageUrl: \"\",\n      imageOnlineUrl: \"\",\n      operationtype: \"\",\n      row: {},\n      display: {\n        options: [\n          {\n            value: \"停用\",\n            label: \"启用\"\n          }\n        ]\n      },\n      displayname: \"\",\n      buildVer: \"\",\n      displaystatus: \"\",\n      displaypage: \"\",\n      displaysize: \"246 * 246\"\n    };\n  },\n  created() {\n    this.getAllActivity({\n      pagenum: 1,\n      pagesize: 10\n    });\n  },\n  methods: {\n    ...mapActions(\"activity\", [\n      \"getAllActivity\",\n      \"updateActivity\",\n      \"updateActivityStatus\"\n    ]),\n    handleError(err) {\n      this.$message.error(\"Network Error!\");\n      this.loadingAvatarUpload = false;\n    },\n    // 上传 图片\n    handleAvatarSuccess(res, file) {\n      let self = this;\n      try {\n        if (res.code === 0) {\n          self.$message.success(\"上传成功\");\n          self.imageUrl = URL.createObjectURL(file.raw);\n          self.imageUrl = `${api.filePath}${res.result.url}`;\n        } else {\n          self.$message.error(res.result);\n        }\n      } catch (err) {\n        self.$message.error(err);\n      }\n      self.loadingAvatarUpload = false;\n    },\n    beforeAvatarUpload(file) {\n      let self = this;\n      self.loadingAvatarUpload = true;\n      const isImage = file.type.indexOf(\"image/\") > -1;\n      const isLt750KB = file.size / 1024 / 1024 < 0.75;\n      if (!isImage) {\n        self.$message.error(\"只能上传图片!\");\n        self.loadingAvatarUpload = false;\n      }\n      if (!isLt750KB) {\n        self.loadingAvatarUpload = false;\n        self.$message.error(\"上传图片大小不能超过 750kb!\");\n      }\n      return isImage && isLt750KB;\n    },\n    // 保存修改\n    async save() {\n      let self = this;\n      if (!self.displayname) {\n        self.$message.warning(\"活动名称不能为空！\");\n        return;\n      }\n      if (!self.displaypage) {\n        self.$message.warning(\"活动页面不能为空！\");\n        return;\n      }\n      if (!self.$com.isUrl(self.displaypage)) {\n        self.$message.warning(\"活动页面地址错误！\");\n        return;\n      }\n      if (!self.imageUrl) {\n        self.$message.warning(\"活动logo不能为空！\");\n        return;\n      }\n      if (!self.buildVer) {\n        self.$message.warning(\"版本号不能为空！\");\n        return;\n      }\n      let res = await self.updateActivity({\n        activityId: self.row.activityId,\n        name: self.displayname,\n        buildVer: self.buildVer,\n        size: self.displaysize,\n        logo: self.imageUrl,\n        url: self.displaypage\n      });\n      // console.log(\"data====\", data);\n      if (res) {\n        self.outerVisible = false;\n        await self.activityList();\n      }\n    },\n    look() {\n      this.outerVisible1 = true;\n    },\n    edit(row) {\n      let self = this;\n      self.row = row;\n      self.outerVisible = true;\n      self.displayname = row.activityName;\n      self.buildVer = row.buildVer;\n      self.displaystatus = row.status;\n      self.displaypage = row.url;\n      self.imageUrl = row.logo;\n      self.verDisabled = row.status === \"已停用\" ? true : false;\n    },\n    // 活动列表\n    async activityList() {\n      let self = this;\n      await self.getAllActivity({\n        pagenum: 1,\n        pagesize: 10\n      });\n    },\n    async sureStart(row) {\n      let self = this,\n        enabled = row.status === \"已停用\" ? false : true;\n      let res = await self.updateActivityStatus({\n        activityId: row.activityId,\n        enabled: enabled\n      });\n      if (res) {\n        await self.activityList();\n      }\n    },\n    async start(row) {\n      let self = this;\n      console.log(row);\n      let confirm =\n        row.status === \"已启用\"\n          ? `此操作将关闭“${row.activityName}”, 是否继续?`\n          : `此操作将开启“${row.activityName}”, 是否继续?`;\n      self\n        .$confirm(confirm, \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        })\n        .then(async () => {\n          await self.sureStart(row);\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消操作\"\n          });\n        });\n    }\n  }\n};\n</script>\n<style scoped>\n.activity-cell .avatar-uploader .avatar-uploader-icon {\n  width: 164px;\n  height: 164px;\n  line-height: 164px;\n}\n.activity-cell .avatar {\n  width: 164px;\n  height: 164px;\n}\n.permission_table .permission_table_content {\n  margin-top: 0;\n}\n.dialog-label {\n  max-width: 300px;\n}\n.prompt {\n  font-size: 12px;\n  color: #999;\n  padding-bottom: 10px;\n  margin-left: 20px;\n}\n.table_logo {\n  max-height: 60px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0a1a01c0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0a1a01c0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a1a01c0\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/displaylogo.0e2d255c.png\";"],"sourceRoot":""}